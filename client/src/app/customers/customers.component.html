<div class="section-bg p-3">
  <div class="d-flex mb-4 p-2">
    <button (click)="toggleForm()" class="btn btn-primary">
      <i class="bi-person-plus pe-2"></i>
      Add Customer
    </button>
    <button
      (click)="logout()"
      class="btn btn-primary ml-3"
      style="margin-left: 10px"
    >
      <i class="bi bi-door-closed pe-2"></i>
      Hello {{ username }}, Logout
    </button>
  </div>

  <div *ngIf="showForm">
    <form [formGroup]="customerForm" (ngSubmit)="onSumbit()">
      <div class="mb-3">
        <label for="" class="form-label">Name</label>
        <input formControlName="name" type="text" class="form-control" />
      </div>
      <div class="mb-3">
        <label for="" class="form-label">Email</label>
        <input formControlName="email" type="email" class="form-control" />
      </div>
      <div class="mb-3">
        <label for="" class="form-label">Phone</label>
        <input formControlName="phone" type="text" class="form-control" />
      </div>

      <button
        [disabled]="!customerForm.valid"
        type="submit"
        class="btn btn-primary"
      >
        Add
      </button>
    </form>
  </div>

  <table class="table">
    <thead>
      <tr>
        <th>No.</th>
        <th>Name</th>
        <th>Email</th>
        <th class="align-middle">Phone</th>
        <th class="align-middle">Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr
        id="{{ 'customer-' + customer.id }}"
        *ngFor="let customer of customers; let indexOfelement = index"
      >
        <td>{{ indexOfelement + 1 }}</td>
        <td id="{{ 'customer-' + customer.id + '-name' }}">
          {{ customer.name }}
        </td>
        <td id="{{ 'customer-' + customer.id + '-email' }}">
          {{ customer.email }}
        </td>
        <td id="{{ 'customer-' + customer.id + '-phone' }}">
          {{ customer.phone }}
        </td>
        <td>
          <i
            class="bi bi-pencil-square"
            (click)="toggleEditMode(customer.id)"
          ></i
          ><i
            class="bi bi-trash3-fill"
            (click)="deleteCustomer(customer.id)"
          ></i>
        </td>
      </tr>
    </tbody>
  </table>
</div>
